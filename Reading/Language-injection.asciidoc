:experimental:

_Since b0.6.10_

When your cursor is in a `verbatim`-like environment, by using kbd:[Alt + Enter] you can use the intention "Permanently inject language in environment" to insert a magic comment `%! language = languageid` before the environment, where `languageid` corresponds to the language you chose in the intention pop-up.
In principle, any language in IntelliJ is available, including those provided by plugins (including TeXiFy).

When you use the `lstlisting` environment with the `language` option, if the value is a language id known by IntelliJ then the language will automatically be injected.
It can still be overridden using a magic comment.
For more information about this option, see the listings documentation at http://mirrors.ctan.org/macros/latex/contrib/listings/listings.pdf

When you want to edit the code in the listing, it is recommended to use kbd:[Alt + Enter] to open it in a separate window, and edit there.

For more information, see https://www.jetbrains.com/help/idea/using-language-injections.html

image::https://raw.githubusercontent.com/wiki/Hannah-Sten/TeXiFy-IDEA/reading/language-injection.png[]
